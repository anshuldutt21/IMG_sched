{"ast":null,"code":"var _jsxFileName = \"/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport './../css/Login.css';\n\nclass Meetingform extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handle_change = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handle_Change2 = e => {\n      var options = e.target.options; // const value = e.target.value;\n      // this.setState({invitees: [...e.target.selectedOptions].map(o => o.value)}); \n\n      var value = Array.from(e.target.selectedOptions, option => option.value); // console.log(value);\n\n      this.setState({\n        invitees: Array.from(e.target.selectedOptions, option => option.value)\n      }); // this.state.invitees.push(value);\n      // this.state.invitees.push(value);\n\n      console.log(this.state.invitees);\n    };\n\n    this.state = {\n      users: [],\n      success: 0,\n      purpose: \"\",\n      detail: \"\",\n      venue: \"\",\n      meeting_choice: 1,\n      host: 1,\n      errors: null,\n      datetime: \"2019-06-14T05:58:05Z\",\n      invitees: []\n    };\n    this.getUsers = this.getUsers.bind(this);\n    this.getUsers();\n  }\n\n  handleSubmit(e, data) {\n    e.preventDefault();\n    let x = 0;\n    fetch('http://127.0.0.1:8000/schedule/test/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json' // 'Authorization': `JWT ${window.localStorage.getItem('token')}`\n\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(json => {\n      this.setState({\n        success: 1\n      });\n    });\n  }\n\n  getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      this.setState({\n        users: response\n      });\n    }).catch(error => this.setState({\n      error\n    }));\n    console.log(this.state.users);\n  }\n\n  render() {\n    if (this.state.success == 1) {\n      return React.createElement(Redirect, {\n        to: \"./\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"form\", {\n      onSubmit: e => this.handleSubmit(e, this.state),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"purpose\"), React.createElement(\"input\", {\n      name: \"purpose\",\n      className: \"input\",\n      placeholder: \"Purpose\",\n      type: \"text\",\n      value: this.state.purpose,\n      onChange: this.handle_change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \" Detail \"), React.createElement(\"textarea\", {\n      name: \"detail\",\n      placeholder: \"Detail\",\n      value: this.state.detail,\n      onChange: this.handle_change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"venue\"), React.createElement(\"input\", {\n      name: \"venue\",\n      className: \"input\",\n      placeholder: \"Venue\",\n      type: \"text\",\n      value: this.state.venue,\n      onChange: this.handle_change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"meeting_choice\"), React.createElement(\"select\", {\n      name: \"meeting_choice\",\n      value: this.state.meeting_choice,\n      onChange: this.handle_change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Public\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Private\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"datetime\"), React.createElement(\"input\", {\n      name: \"datetime\",\n      type: \"datetime\",\n      className: \"input\",\n      value: this.state.datetime,\n      onChange: this.handle_change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"host\"), React.createElement(\"select\", {\n      name: \"host\",\n      onChange: this.handle_change,\n      value: this.state.host,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"option\", {\n      value: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, user.username))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"invitees\"), React.createElement(\"select\", {\n      name: \"invitees\",\n      onChange: this.handle_Change2,\n      value: this.state.invitees,\n      multiple: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"option\", {\n      value: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, user.username))), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Meetingform;","map":{"version":3,"sources":["/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingForm.js"],"names":["React","Component","PropTypes","Link","Redirect","Meetingform","constructor","props","handle_change","e","name","target","value","setState","handle_Change2","options","Array","from","selectedOptions","option","invitees","console","log","state","users","success","purpose","detail","venue","meeting_choice","host","errors","datetime","getUsers","bind","handleSubmit","data","preventDefault","x","fetch","method","headers","body","JSON","stringify","then","response","json","window","localStorage","getItem","catch","error","render","map","user","id","username"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {Redirect} from 'react-router-dom';\nimport './../css/Login.css';\n\n\nclass Meetingform extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { users:[],\n      success:0,\n\t\t\t     purpose:\"\",\n                 detail:\"\", \n                 venue:\"\",\n                 meeting_choice:1,\n                 host:1,\n                 errors: null,\n                 datetime:\"2019-06-14T05:58:05Z\",\n                 invitees:[],\n\t              };\n    this.getUsers=this.getUsers.bind(this);\n    this.getUsers();\n\t}\n    handleSubmit(e, data) {\n    \te.preventDefault();\n    \tlet x=0;\n    \tfetch('http://127.0.0.1:8000/schedule/test/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        // 'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    }).then((response) => response.json())\n      .then(json => {\n      \tthis.setState({\n      \t\tsuccess:1,\n      \t})\n\n      });\n\n    }\n    \n    getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/',{\n      method:'GET',\n      headers: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n    })\n    .then(response => response.json())\n    .then((response) => {\n      this.setState({\n        users: response,\n      });\n    })\n    .catch(error => this.setState({ error }));\n    console.log(this.state.users);\n   }\n\n    handle_change = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      [name] : value\n    });\n  };\n\n  handle_Change2 = e => {\n  var options = e.target.options;\n  // const value = e.target.value;\n  // this.setState({invitees: [...e.target.selectedOptions].map(o => o.value)}); \n\n  var value = Array.from(e.target.selectedOptions, option => option.value);\n  // console.log(value);\n  this.setState({ invitees : Array.from(e.target.selectedOptions, option => option.value) });\n  // this.state.invitees.push(value);\n  // this.state.invitees.push(value);\n  console.log(this.state.invitees);\n};\n\n\n    render () {\n    \tif(this.state.success==1) {\n    \t\treturn <Redirect to =\"./\" />\n    \t}\n    return(\n   <form onSubmit={e => this.handleSubmit(e, this.state)}>\n   <div className=\"Login\">\n   <label>\n   purpose\n        </label>\n\n   <input \n     name=\"purpose\"\n     className=\"input\"\n     placeholder=\"Purpose\"\n     type=\"text\"\n     value={this.state.purpose}\n     onChange={this.handle_change} />\n     <br />\n     <label> Detail </label>\n\n     <textarea name=\"detail\" placeholder=\"Detail\" value={this.state.detail} onChange={this.handle_change} />\n     <br />\n     <label>\n   venue\n        </label>\n\n   <input \n     name=\"venue\"\n     className=\"input\"\n     placeholder=\"Venue\"\n     type=\"text\"\n     value={this.state.venue}\n     onChange={this.handle_change} />\n     <br />\n     <label>\n   meeting_choice\n        </label>\n <select name=\"meeting_choice\" value={this.state.meeting_choice} onChange={this.handle_change}>\n  <option value='1'>Public</option>\n  <option value='2'>Private</option>\n</select> \n\n     <br />\n     <label>\n   datetime\n        </label>\n   <input \n     name=\"datetime\"\n     type=\"datetime\"\n     className=\"input\"\n     value={this.state.datetime}\n     onChange={this.handle_change} />\n\n     <br />\n     <label>\n       host\n        </label>\n<select name=\"host\" onChange={this.handle_change} value = {this.state.host} >\n{this.state.users.map(user => <option value={user.id}>{user.username}</option>)}\n</select>\n     <br />\n       <label>\n        invitees\n         </label>\n<select name=\"invitees\" onChange={this.handle_Change2} value = {this.state.invitees} multiple={true}>\n{this.state.users.map(user => <option value={user.id}>{user.username}</option>)}\n</select>\n     <input type=\"submit\" />\n     </div>\n  </form>\n  );\n  }\n}\nexport default Meetingform;\n"]},"metadata":{},"sourceType":"module"}