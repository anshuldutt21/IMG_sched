{"ast":null,"code":"var _jsxFileName = \"/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingDetail.js\";\nimport React, { Component } from 'react';\nimport Service from './Service';\nimport './../css/Login.css';\nconst service = new Service();\n\nclass MeetingDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handle_Change2 = e => {\n      let value = Array.from(e.target.selectedOptions, option => option.value);\n      this.setState({\n        invitees: value\n      });\n    };\n\n    this.state = {\n      users: [],\n      invitees: [1]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getUsers = this.getUsers.bind(this);\n    this.getUsers();\n  }\n\n  componentDidMount() {\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      service.getMeeting(params.pk).then(meeting => {\n        this.refs.purpose.value = meeting.purpose;\n        this.refs.detail.value = meeting.detail;\n        this.refs.venue.value = meeting.venue;\n        this.refs.meeting_choice.value = meeting.meeting_choice;\n        this.refs.datetime.value = meeting.datetime;\n        this.refs.host.value = meeting.host;\n        this.refs.invitees.value = this.state.invitees;\n      });\n    }\n  }\n\n  handleUpdate(pk) {\n    service.updateMeeting({\n      \"pk\": pk,\n      \"purpose\": this.refs.purpose.value,\n      \"detail\": this.refs.detail.value,\n      \"venue\": this.refs.venue.value,\n      \"meeting_choice\": this.refs.meeting_choice.value,\n      \"datetime\": this.refs.datetime.value,\n      \"host\": this.refs.host.value,\n      \"invitees\": this.state.invitees\n    }).then(result => {\n      alert(\"Meeting updated!\");\n    }).catch(() => {\n      console.log(this.state.invitees);\n      alert('There was an error! Please re-check your form.');\n    });\n  }\n\n  handleSubmit(event) {\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      this.handleUpdate(params.pk);\n    }\n\n    event.preventDefault();\n  }\n\n  getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      this.setState({\n        users: response\n      });\n    }).catch(error => this.setState({\n      error\n    }));\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Purpose:\"), React.createElement(\"input\", {\n      className: \"input\",\n      type: \"text\",\n      ref: \"purpose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Detail:\"), React.createElement(\"input\", {\n      className: \"input\",\n      type: \"text\",\n      ref: \"detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"meeting_choice:\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      ref: \"meeting_choice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Public\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Private\"))), React.createElement(\"div\", {\n      class: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"venue:\"), React.createElement(\"input\", {\n      className: \"input\",\n      type: \"text\",\n      ref: \"venue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"datetime:\"), React.createElement(\"input\", {\n      className: \"input\",\n      type: \"text\",\n      ref: \"datetime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"host:\"), React.createElement(\"select\", {\n      className: \"select\",\n      ref: \"host\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"option\", {\n      value: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, user.username)))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"invitees \"), React.createElement(\"select\", {\n      className: \"select\",\n      ref: \"invitees\",\n      onChange: this.handle_Change2,\n      multiple: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"option\", {\n      value: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, user.username)))), React.createElement(Button, {\n      color: \"teal\",\n      class: \"buttons\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"SUBMIT \")));\n  }\n\n}\n\nexport default MeetingDetail;","map":{"version":3,"sources":["/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingDetail.js"],"names":["React","Component","Service","service","MeetingDetail","constructor","props","handle_Change2","e","value","Array","from","target","selectedOptions","option","setState","invitees","state","users","handleSubmit","bind","getUsers","componentDidMount","params","match","pk","getMeeting","then","meeting","refs","purpose","detail","venue","meeting_choice","datetime","host","handleUpdate","updateMeeting","result","alert","catch","console","log","event","preventDefault","fetch","method","headers","window","localStorage","getItem","response","json","error","render","map","user","id","username"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Service from './Service';\nimport './../css/Login.css';\n\n\nconst service = new Service();\n\nclass MeetingDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { users:[] ,\n        \tinvitees: [1]\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.getUsers = this.getUsers.bind(this);\n        this.getUsers();\n\n      }\n\n      componentDidMount(){\n        const { match: { params } } = this.props;\n        if(params && params.pk)\n        {\n          service.getMeeting(params.pk).then((meeting)=>{\n            this.refs.purpose.value = meeting.purpose;\n            this.refs.detail.value = meeting.detail;\n            this.refs.venue.value = meeting.venue;\n            this.refs.meeting_choice.value = meeting.meeting_choice;\n            this.refs.datetime.value = meeting.datetime;\n            this.refs.host.value = meeting.host;\n            this.refs.invitees.value = this.state.invitees;\n          })\n        }\n  }\n\n handle_Change2 = e => {\n  let value = Array.from(e.target.selectedOptions, option => option.value);\nthis.setState({invitees : value});\n}\n\n\n      handleUpdate(pk){\n        service.updateMeeting(\n          {\n            \"pk\": pk,\n            \"purpose\": this.refs.purpose.value,\n            \"detail\": this.refs.detail.value,\n            \"venue\": this.refs.venue.value,\n            \"meeting_choice\": this.refs.meeting_choice.value,\n            \"datetime\": this.refs.datetime.value,\n            \"host\": this.refs.host.value,\n            \"invitees\": this.state.invitees,\n        }          \n        ).then((result)=>{\n          alert(\"Meeting updated!\");\n        }).catch(()=>{\n        \tconsole.log(this.state.invitees);\n          alert('There was an error! Please re-check your form.');\n        });\n      }\n      handleSubmit(event) {\n        const { match: { params } } = this.props;\n\n        if(params && params.pk){\n          this.handleUpdate(params.pk);\n        }\n\n        event.preventDefault();\n      }\n      getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/',{\n      method:'GET',\n      headers: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n    })\n    .then(response => response.json())\n    .then((response) => {\n      this.setState({\n        users: response,\n      });\n    })\n    .catch(error => this.setState({ error }));\n   }\n\n      render() {\n        return (\n          <form onSubmit={this.handleSubmit}>\n          <div className=\"Login\">\n          <div class=\"form\">\n            <label>\n              Purpose:</label>\n              <input className=\"input\" type=\"text\" ref='purpose' />\n              </div>\n            <div class=\"form\">\n            <label>\n              Detail:</label>\n              <input className=\"input\" type=\"text\" ref='detail'/>\n            </div>\n            <div class=\"form\">\n            <label>\n              meeting_choice:</label>\n              <select className=\"form-control\" ref='meeting_choice'  >\n           <option value='1'>Public</option>\n            <option value='2'>Private</option>\n               </select>\n \t\t\t</div>\n \t\t\t<div class=\"form\">\n            <label>\n              venue:</label>\n              <input className=\"input\" type=\"text\" ref='venue' />\n            </div>\n            <div class=\"form\">\n            <label>\n              datetime:</label>\n              <input className=\"input\" type=\"text\" ref='datetime' />\n              </div>\n            <div class=\"form\">\n            <label>\n              host:</label>\n             <select className=\"select\" ref='host' >\n             {this.state.users.map(user => <option value={user.id}>{user.username}</option>)}\n             </select>\n             </div>\n             <br />\n             <div class=\"form\">\n             <label>\n             invitees </label>\n             <select className=\"select\" ref='invitees' onChange={this.handle_Change2}  multiple>\n             {this.state.users.map(user => <option value={user.id}>{user.username}</option>)}\n             </select>\n             </div>\n            <Button color=\"teal\" class=\"buttons\" type=\"submit\">SUBMIT </Button>\n            </div>\n          </form>\n        );\n      }  \n}\n\nexport default MeetingDetail;\n"]},"metadata":{},"sourceType":"module"}