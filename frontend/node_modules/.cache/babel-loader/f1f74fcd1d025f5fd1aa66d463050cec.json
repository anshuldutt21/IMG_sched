{"ast":null,"code":"var _jsxFileName = \"/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingDetail.js\";\nimport React, { Component } from 'react';\nimport Service from './Service';\nconst service = new Service();\n\nclass MeetingDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handle_Change2 = e => {\n      let value = Array.from(e.target.selectedOptions, option => option.value);\n      this.setState({\n        invitees: value\n      });\n      console.log(this.state.invitees);\n    };\n\n    this.state = {\n      users: [],\n      invitees: [1]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getUsers = this.getUsers.bind(this);\n    this.getUsers();\n  }\n\n  componentDidMount() {\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      service.getMeeting(params.pk).then(meeting => {\n        this.refs.purpose.value = meeting.purpose;\n        this.refs.detail.value = meeting.detail;\n        this.refs.venue.value = meeting.venue;\n        this.refs.meeting_choice.value = meeting.meeting_choice;\n        this.refs.datetime.value = meeting.datetime;\n        this.refs.host.value = meeting.host;\n        this.refs.invitees.value = this.state.invitees;\n      });\n    }\n  }\n\n  handleUpdate(pk) {\n    service.updateMeeting({\n      \"pk\": pk,\n      \"purpose\": this.refs.purpose.value,\n      \"detail\": this.refs.detail.value,\n      \"venue\": this.refs.venue.value,\n      \"meeting_choice\": this.refs.meeting_choice.value,\n      \"datetime\": this.refs.datetime.value,\n      \"host\": this.refs.host.value,\n      \"invitees\": this.refs.invitees.value\n    }).then(result => {\n      alert(\"Meeting updated!\");\n    }).catch(() => {\n      console.log(this.refs.invitees.value);\n      alert('There was an error! Please re-check your form.');\n    });\n  }\n\n  handleSubmit(event) {\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      this.handleUpdate(params.pk);\n    }\n\n    event.preventDefault();\n  }\n\n  getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      this.setState({\n        users: response\n      });\n    }).catch(error => this.setState({\n      error\n    }));\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Purpose:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"purpose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Detail:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"meeting_choice:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"number\",\n      ref: \"meeting_choice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"venue:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"venue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"datetime:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"datetime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"host:\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      ref: \"host\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"option\", {\n      value: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, user.username))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"invitees \"), React.createElement(\"select\", {\n      className: \"form-control\",\n      ref: \"invitees\",\n      onChange: this.handle_Change2,\n      multiple: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"option\", {\n      value: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, user.username))), React.createElement(\"input\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default MeetingDetail;","map":{"version":3,"sources":["/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingDetail.js"],"names":["React","Component","Service","service","MeetingDetail","constructor","props","handle_Change2","e","value","Array","from","target","selectedOptions","option","setState","invitees","console","log","state","users","handleSubmit","bind","getUsers","componentDidMount","params","match","pk","getMeeting","then","meeting","refs","purpose","detail","venue","meeting_choice","datetime","host","handleUpdate","updateMeeting","result","alert","catch","event","preventDefault","fetch","method","headers","window","localStorage","getItem","response","json","error","render","map","user","id","username"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,OAAO,GAAG,IAAID,OAAJ,EAAhB;;AAEA,MAAME,aAAN,SAA4BH,SAA5B,CAAsC;AAClCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA2BtBC,cA3BsB,GA2BLC,CAAC,IAAI;AACrB,UAAIC,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAWH,CAAC,CAACI,MAAF,CAASC,eAApB,EAAqCC,MAAM,IAAIA,MAAM,CAACL,KAAtD,CAAZ;AACF,WAAKM,QAAL,CAAc;AAACC,QAAAA,QAAQ,EAAGP;AAAZ,OAAd;AACEQ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWH,QAAvB;AACD,KA/BsB;;AAEf,SAAKG,KAAL,GAAa;AAAEC,MAAAA,KAAK,EAAC,EAAR;AACZJ,MAAAA,QAAQ,EAAE,CAAC,CAAD;AADE,KAAb;AAGA,SAAKK,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,QAAL;AAED;;AAEDC,EAAAA,iBAAiB,GAAE;AAAA,UACAC,MADA,GACa,KAAKnB,KADlB,CACToB,KADS,CACAD,MADA;;AAEjB,QAAGA,MAAM,IAAIA,MAAM,CAACE,EAApB,EACA;AACExB,MAAAA,OAAO,CAACyB,UAAR,CAAmBH,MAAM,CAACE,EAA1B,EAA8BE,IAA9B,CAAoCC,OAAD,IAAW;AAC5C,aAAKC,IAAL,CAAUC,OAAV,CAAkBvB,KAAlB,GAA0BqB,OAAO,CAACE,OAAlC;AACA,aAAKD,IAAL,CAAUE,MAAV,CAAiBxB,KAAjB,GAAyBqB,OAAO,CAACG,MAAjC;AACA,aAAKF,IAAL,CAAUG,KAAV,CAAgBzB,KAAhB,GAAwBqB,OAAO,CAACI,KAAhC;AACA,aAAKH,IAAL,CAAUI,cAAV,CAAyB1B,KAAzB,GAAiCqB,OAAO,CAACK,cAAzC;AACA,aAAKJ,IAAL,CAAUK,QAAV,CAAmB3B,KAAnB,GAA2BqB,OAAO,CAACM,QAAnC;AACA,aAAKL,IAAL,CAAUM,IAAV,CAAe5B,KAAf,GAAuBqB,OAAO,CAACO,IAA/B;AACA,aAAKN,IAAL,CAAUf,QAAV,CAAmBP,KAAnB,GAA2B,KAAKU,KAAL,CAAWH,QAAtC;AACD,OARD;AASD;AACF;;AASDsB,EAAAA,YAAY,CAACX,EAAD,EAAI;AACdxB,IAAAA,OAAO,CAACoC,aAAR,CACE;AACE,YAAMZ,EADR;AAEE,iBAAW,KAAKI,IAAL,CAAUC,OAAV,CAAkBvB,KAF/B;AAGE,gBAAU,KAAKsB,IAAL,CAAUE,MAAV,CAAiBxB,KAH7B;AAIE,eAAS,KAAKsB,IAAL,CAAUG,KAAV,CAAgBzB,KAJ3B;AAKE,wBAAkB,KAAKsB,IAAL,CAAUI,cAAV,CAAyB1B,KAL7C;AAME,kBAAY,KAAKsB,IAAL,CAAUK,QAAV,CAAmB3B,KANjC;AAOE,cAAQ,KAAKsB,IAAL,CAAUM,IAAV,CAAe5B,KAPzB;AAQE,kBAAY,KAAKsB,IAAL,CAAUf,QAAV,CAAmBP;AARjC,KADF,EAWEoB,IAXF,CAWQW,MAAD,IAAU;AACfC,MAAAA,KAAK,CAAC,kBAAD,CAAL;AACD,KAbD,EAaGC,KAbH,CAaS,MAAI;AACZzB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKa,IAAL,CAAUf,QAAV,CAAmBP,KAA/B;AACCgC,MAAAA,KAAK,CAAC,gDAAD,CAAL;AACD,KAhBD;AAiBD;;AACDpB,EAAAA,YAAY,CAACsB,KAAD,EAAQ;AAAA,UACDlB,MADC,GACY,KAAKnB,KADjB,CACVoB,KADU,CACDD,MADC;;AAGlB,QAAGA,MAAM,IAAIA,MAAM,CAACE,EAApB,EAAuB;AACrB,WAAKW,YAAL,CAAkBb,MAAM,CAACE,EAAzB;AACD;;AAEDgB,IAAAA,KAAK,CAACC,cAAN;AACD;;AACDrB,EAAAA,QAAQ,GAAG;AACbsB,IAAAA,KAAK,CAAC,0CAAD,EAA4C;AAC/CC,MAAAA,MAAM,EAAC,KADwC;AAE/CC,MAAAA,OAAO,EAAE;AACN,uCAAwBC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAxB;AADM;AAFsC,KAA5C,CAAL,CAMCrB,IAND,CAMMsB,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EANlB,EAOCvB,IAPD,CAOOsB,QAAD,IAAc;AAClB,WAAKpC,QAAL,CAAc;AACZK,QAAAA,KAAK,EAAE+B;AADK,OAAd;AAGD,KAXD,EAYCT,KAZD,CAYOW,KAAK,IAAI,KAAKtC,QAAL,CAAc;AAAEsC,MAAAA;AAAF,KAAd,CAZhB;AAaA;;AAEEC,EAAAA,MAAM,GAAG;AACP,WACE;AAAM,MAAA,QAAQ,EAAE,KAAKjC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAGI;AAAO,MAAA,SAAS,EAAC,cAAjB;AAAgC,MAAA,IAAI,EAAC,MAArC;AAA4C,MAAA,GAAG,EAAC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,EAOI;AAAO,MAAA,SAAS,EAAC,cAAjB;AAAgC,MAAA,IAAI,EAAC,MAArC;AAA4C,MAAA,GAAG,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBATF,EAWI;AAAO,MAAA,SAAS,EAAC,cAAjB;AAAgC,MAAA,IAAI,EAAC,QAArC;AAA8C,MAAA,GAAG,EAAC,gBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF,EAeI;AAAO,MAAA,SAAS,EAAC,cAAjB;AAAgC,MAAA,IAAI,EAAC,MAArC;AAA4C,MAAA,GAAG,EAAC,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAjBF,EAmBI;AAAO,MAAA,SAAS,EAAC,cAAjB;AAAgC,MAAA,IAAI,EAAC,MAArC;AAA4C,MAAA,GAAG,EAAC,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,EAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eArBF,EAuBG;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,GAAG,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKF,KAAL,CAAWC,KAAX,CAAiBmC,GAAjB,CAAqBC,IAAI,IAAI;AAAQ,MAAA,KAAK,EAAEA,IAAI,CAACC,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyBD,IAAI,CAACE,QAA9B,CAA7B,CADD,CAvBH,EA2BG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA3BH,EA6BG;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,GAAG,EAAC,UAArC;AAAgD,MAAA,QAAQ,EAAE,KAAKnD,cAA/D;AAAgF,MAAA,QAAQ,MAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKY,KAAL,CAAWC,KAAX,CAAiBmC,GAAjB,CAAqBC,IAAI,IAAI;AAAQ,MAAA,KAAK,EAAEA,IAAI,CAACC,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyBD,IAAI,CAACE,QAA9B,CAA7B,CADD,CA7BH,EAgCE;AAAO,MAAA,SAAS,EAAC,iBAAjB;AAAmC,MAAA,IAAI,EAAC,QAAxC;AAAiD,MAAA,KAAK,EAAC,QAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhCF,CADA,CADF;AAsCD;;AAtH+B;;AAyHtC,eAAetD,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport Service from './Service';\n\nconst service = new Service();\n\nclass MeetingDetail extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { users:[] ,\n        \tinvitees: [1]\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.getUsers = this.getUsers.bind(this);\n        this.getUsers();\n\n      }\n\n      componentDidMount(){\n        const { match: { params } } = this.props;\n        if(params && params.pk)\n        {\n          service.getMeeting(params.pk).then((meeting)=>{\n            this.refs.purpose.value = meeting.purpose;\n            this.refs.detail.value = meeting.detail;\n            this.refs.venue.value = meeting.venue;\n            this.refs.meeting_choice.value = meeting.meeting_choice;\n            this.refs.datetime.value = meeting.datetime;\n            this.refs.host.value = meeting.host;\n            this.refs.invitees.value = this.state.invitees;\n          })\n        }\n      }\n\n handle_Change2 = e => {\n  let value = Array.from(e.target.selectedOptions, option => option.value);\nthis.setState({invitees : value});\n  console.log(this.state.invitees);\n}\n\n\n      handleUpdate(pk){\n        service.updateMeeting(\n          {\n            \"pk\": pk,\n            \"purpose\": this.refs.purpose.value,\n            \"detail\": this.refs.detail.value,\n            \"venue\": this.refs.venue.value,\n            \"meeting_choice\": this.refs.meeting_choice.value,\n            \"datetime\": this.refs.datetime.value,\n            \"host\": this.refs.host.value,\n            \"invitees\": this.refs.invitees.value,\n        }          \n        ).then((result)=>{\n          alert(\"Meeting updated!\");\n        }).catch(()=>{\n        \tconsole.log(this.refs.invitees.value);\n          alert('There was an error! Please re-check your form.');\n        });\n      }\n      handleSubmit(event) {\n        const { match: { params } } = this.props;\n\n        if(params && params.pk){\n          this.handleUpdate(params.pk);\n        }\n\n        event.preventDefault();\n      }\n      getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/',{\n      method:'GET',\n      headers: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n    })\n    .then(response => response.json())\n    .then((response) => {\n      this.setState({\n        users: response,\n      });\n    })\n    .catch(error => this.setState({ error }));\n   }\n\n      render() {\n        return (\n          <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label>\n              Purpose:</label>\n              <input className=\"form-control\" type=\"text\" ref='purpose' />\n\n            <label>\n              Detail:</label>\n              <input className=\"form-control\" type=\"text\" ref='detail'/>\n\n            <label>\n              meeting_choice:</label>\n              <input className=\"form-control\" type=\"number\" ref='meeting_choice' />\n\n            <label>\n              venue:</label>\n              <input className=\"form-control\" type=\"text\" ref='venue' />\n\n            <label>\n              datetime:</label>\n              <input className=\"form-control\" type=\"text\" ref='datetime' />\n\n            <label>\n              host:</label>\n             <select className=\"form-control\" ref='host' >\n             {this.state.users.map(user => <option value={user.id}>{user.username}</option>)}\n             </select>\n\n             <label>\n             invitees </label>\n             <select className=\"form-control\" ref='invitees' onChange={this.handle_Change2}  multiple>\n             {this.state.users.map(user => <option value={user.id}>{user.username}</option>)}\n             </select>\n            <input className=\"btn btn-primary\" type=\"submit\" value=\"Submit\" />\n            </div>\n          </form>\n        );\n      }  \n}\n\nexport default MeetingDetail;\n"]},"metadata":{},"sourceType":"module"}