{"ast":null,"code":"var _jsxFileName = \"/home/anshul/Documents/IMG_sched/frontend/src/components/Profile.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MeetingForm from './MeetingForm';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Service from './Service';\nimport { Redirect } from 'react-router-dom';\nimport { Button, Checkbox, Form, Input, Image, Item } from 'semantic-ui-react';\nimport './../css/Login.css';\nimport MeetingComment from './MeetingComment';\nconst service = new Service();\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      meetings: [],\n      isloading: true,\n      errors: null\n    };\n    this.calendar = this.calendar.bind(this);\n    this.getPosts = this.getPosts.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.getPosts();\n    this.calendar();\n  }\n\n  calendar() {\n    fetch('http://127.0.0.1:8000/schedule/calendar/cal', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    });\n  }\n\n  getPosts() {\n    fetch('http://127.0.0.1:8000/schedule/test/', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      console.log(response.json);\n      this.setState({\n        meetings: response,\n        isloading: false\n      });\n    }).catch(error => this.setState({\n      error,\n      isloading: false\n    }));\n  }\n\n  handleDelete(e, pk) {\n    service.deleteMeeting({\n      pk: pk\n    }).then(() => {\n      this.setState({\n        meetings: []\n      });\n      this.getPosts();\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          isloading = _this$state.isloading,\n          meetings = _this$state.meetings;\n    const username = this.props.username;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"Prof\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Hello \", this.props.username, \"  \"), React.createElement(Button, {\n      class: \"buttonlog\",\n      onClick: this.props.handle_logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"logout\")), React.createElement(Link, {\n      to: \"/MeetingForm\",\n      className: \"meetingadd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      class: \"meetingsadd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Create Meeting\")), React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, !isloading ? meetings.map(meeting => {\n      const pk = meeting.pk,\n            purpose = meeting.purpose,\n            detail = meeting.detail,\n            venue = meeting.venue,\n            datetime = meeting.datetime,\n            host = meeting.host,\n            invitees = meeting.invitees;\n      return React.createElement(\"div\", {\n        key: pk,\n        class: \"Meeting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, purpose), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, detail), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Venue - \", venue), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \" DATE - \", datetime.slice(0, 10) + \" \" + datetime.slice(11, 19)), React.createElement(Button, {\n        onClick: e => this.handleDelete(e, meeting.pk),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \" Delete\"), React.createElement(\"a\", {\n        href: \"/MeetingDetail/\" + meeting.pk,\n        className: \"update\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Update \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/MeetingComment/\" + meeting.pk + \"?user=\" + username,\n        className: \"commentsb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \" COMMENTS \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }));\n    }) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Loading...\"))));\n  }\n\n}\n\nexport default Profile;\nProfile.propTypes = {\n  handle_logout: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/home/anshul/Documents/IMG_sched/frontend/src/components/Profile.js"],"names":["React","Component","PropTypes","MeetingForm","Link","axios","Service","Redirect","Button","Checkbox","Form","Input","Image","Item","MeetingComment","service","Profile","constructor","props","state","meetings","isloading","errors","calendar","bind","getPosts","handleDelete","fetch","method","headers","window","localStorage","getItem","then","response","json","console","log","setState","catch","error","e","pk","deleteMeeting","render","username","handle_logout","map","meeting","purpose","detail","venue","datetime","host","invitees","slice","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport MeetingForm from './MeetingForm';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport Service from './Service';\nimport {Redirect} from 'react-router-dom';\nimport { Button, Checkbox, Form, Input,Image, Item  } from 'semantic-ui-react';\nimport './../css/Login.css';\nimport MeetingComment from './MeetingComment';\n\nconst service = new Service();\nclass  Profile extends React.Component{\nconstructor(props) {\n    super(props); \n    this.state = {\n      meetings: [],\n      isloading: true,\n      errors: null,\n    };\n    this.calendar  =this.calendar.bind(this);\n    this.getPosts = this.getPosts.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.getPosts();\n    this.calendar();\n   }\n   calendar() {\n   \tfetch('http://127.0.0.1:8000/schedule/calendar/cal',{\n   \t\tmethod:'GET',\n    \theaders: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n   \t})\n   }\n   getPosts() {\n    fetch('http://127.0.0.1:8000/schedule/test/',{\n    \tmethod:'GET',\n    \theaders: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n    })\n   \t.then(response => response.json())\n   \t.then((response) => {\n   \t\tconsole.log(response.json);\n   \t\tthis.setState({\n   \t\t\tmeetings: response,\n   \t\t\tisloading: false,\n   \t\t});\n   \t})\n   \t.catch(error => this.setState({ error , isloading: false}));\n   }\n   handleDelete(e, pk){\n   \tservice.deleteMeeting({pk : pk}).then(()=>{\n   \t\tthis.setState({\n   \t\t\tmeetings : []\n   \t\t})\n   \t   this.getPosts();\n   \t});\n   }\n\n\n   render() {\n   \t   const { isloading,meetings } =this.state;\n   \t   const username = this.props.username;\n   \t\treturn(\n             <div>\n             <div class=\"Prof\">\n\t\t\t<h1>Hello {this.props.username}  </h1>\n              <Button class=\"buttonlog\"  onClick = {this.props.handle_logout}>logout</Button>\n\t\t\t</div>\n\t\t\t<Link to='/MeetingForm' className=\"meetingadd\"><h3 class=\"meetingsadd\">Create Meeting</h3></Link>\n              <React.Fragment>\n              <div>\n          {!isloading ? (\n            meetings.map(meeting => {\n              const { pk,purpose,detail,venue,datetime,host,invitees } = meeting;\n              return (\n                <div key={pk} class = \"Meeting\">\n                  <h2>{purpose}</h2>\n                  <p>{detail}</p>\n                  <h3>Venue - {venue}</h3>\n                  <h3> DATE - {datetime.slice(0,10)+\" \"+datetime.slice(11,19)}</h3>\n                  <Button  onClick={(e)=>  this.handleDelete(e,meeting.pk) }> Delete</Button>\n                  <a href={\"/MeetingDetail/\"+meeting.pk} className=\"update\">Update </a>\n                  <br />\n                  <br />\n\n                  <a href={\"/MeetingComment/\"+meeting.pk+\"?user=\"+username} className=\"commentsb\"> COMMENTS </a>\n                  <br />\n                  <br />\n                  <hr />\n                </div>\n              );\n            })\n          ) : (\n            <p>Loading...</p>\n          )}\n        </div>\n        </React.Fragment>\n\t\t\t </div>\n  )}\n  } \nexport default Profile;\nProfile.propTypes = {\n  handle_logout: PropTypes.func.isRequired\n};"]},"metadata":{},"sourceType":"module"}