{"ast":null,"code":"var _jsxFileName = \"/home/anshul/Documents/IMG_sched/frontend/src/components/Profile.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MeetingForm from './MeetingForm';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Service from './Service';\nimport { Redirect } from 'react-router-dom';\nimport MeetingComment from './MeetingComment';\nconst service = new Service();\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      meetings: [],\n      isloading: true,\n      errors: null\n    };\n    this.getPosts = this.getPosts.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.getPosts();\n    this.calendar();\n  }\n\n  calendar() {\n    fetch('http://127.0.0.1:8000/schedule/calendar/cal', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    });\n  }\n\n  getPosts() {\n    fetch('http://127.0.0.1:8000/schedule/test/', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      console.log(response.json);\n      this.setState({\n        meetings: response,\n        isloading: false\n      });\n    }).catch(error => this.setState({\n      error,\n      isloading: false\n    }));\n  }\n\n  handleDelete(e, pk) {\n    service.deleteMeeting({\n      pk: pk\n    }).then(() => {\n      this.setState({\n        meetings: []\n      });\n      this.getPosts();\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          isloading = _this$state.isloading,\n          meetings = _this$state.meetings;\n    const username = this.props.username;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"hello \", this.props.username, \"  \"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      onClick: this.props.handle_logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"logout\")), React.createElement(Link, {\n      to: \"/MeetingForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"add meeting\"), React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, !isloading ? meetings.map(meeting => {\n      const pk = meeting.pk,\n            purpose = meeting.purpose,\n            detail = meeting.detail,\n            venue = meeting.venue,\n            datetime = meeting.datetime,\n            host = meeting.host,\n            invitees = meeting.invitees;\n      return React.createElement(\"div\", {\n        key: pk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, pk), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, purpose), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, detail), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, venue), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \" \", datetime), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \" \", host, \" \"), React.createElement(\"button\", {\n        onClick: e => this.handleDelete(e, meeting.pk),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \" Delete\"), React.createElement(\"a\", {\n        href: \"/MeetingDetail/\" + meeting.pk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Update \"), React.createElement(\"a\", {\n        href: \"/MeetingComment/\" + meeting.pk + \"?user=\" + username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \" COMMENTS \"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    }) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Loading...\"))));\n  }\n\n}\n\nexport default Profile;\nProfile.propTypes = {\n  handle_logout: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/home/anshul/Documents/IMG_sched/frontend/src/components/Profile.js"],"names":["React","Component","PropTypes","MeetingForm","Link","axios","Service","Redirect","MeetingComment","service","Profile","constructor","props","state","meetings","isloading","errors","getPosts","bind","handleDelete","calendar","fetch","method","headers","window","localStorage","getItem","then","response","json","console","log","setState","catch","error","e","pk","deleteMeeting","render","username","handle_logout","map","meeting","purpose","detail","venue","datetime","host","invitees","propTypes","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,MAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;;AACA,MAAOI,OAAP,SAAuBV,KAAK,CAACC,SAA7B,CAAsC;AACtCU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,SAAS,EAAE,IAFA;AAGXC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAKA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKD,QAAL;AACA,SAAKG,QAAL;AACA;;AACDA,EAAAA,QAAQ,GAAG;AACVC,IAAAA,KAAK,CAAC,6CAAD,EAA+C;AACnDC,MAAAA,MAAM,EAAC,KAD4C;AAEnDC,MAAAA,OAAO,EAAE;AACL,uCAAwBC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAxB;AADK;AAF0C,KAA/C,CAAL;AAMA;;AACDT,EAAAA,QAAQ,GAAG;AACVI,IAAAA,KAAK,CAAC,sCAAD,EAAwC;AAC5CC,MAAAA,MAAM,EAAC,KADqC;AAE5CC,MAAAA,OAAO,EAAE;AACL,uCAAwBC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAxB;AADK;AAFmC,KAAxC,CAAL,CAMCC,IAND,CAMMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EANlB,EAOCF,IAPD,CAOOC,QAAD,IAAc;AACnBE,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB;AACA,WAAKG,QAAL,CAAc;AACblB,QAAAA,QAAQ,EAAEc,QADG;AAEbb,QAAAA,SAAS,EAAE;AAFE,OAAd;AAIA,KAbD,EAcCkB,KAdD,CAcOC,KAAK,IAAI,KAAKF,QAAL,CAAc;AAAEE,MAAAA,KAAF;AAAUnB,MAAAA,SAAS,EAAE;AAArB,KAAd,CAdhB;AAeA;;AACDI,EAAAA,YAAY,CAACgB,CAAD,EAAIC,EAAJ,EAAO;AAClB3B,IAAAA,OAAO,CAAC4B,aAAR,CAAsB;AAACD,MAAAA,EAAE,EAAGA;AAAN,KAAtB,EAAiCT,IAAjC,CAAsC,MAAI;AACzC,WAAKK,QAAL,CAAc;AACblB,QAAAA,QAAQ,EAAG;AADE,OAAd;AAGE,WAAKG,QAAL;AACF,KALD;AAMA;;AAGDqB,EAAAA,MAAM,GAAG;AAAA,wBACyB,KAAKzB,KAD9B;AAAA,UACGE,SADH,eACGA,SADH;AAAA,UACaD,QADb,eACaA,QADb;AAEL,UAAMyB,QAAQ,GAAG,KAAK3B,KAAL,CAAW2B,QAA5B;AACF,WACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAW,KAAK3B,KAAL,CAAW2B,QAAtB,OADU,EAEV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACW;AAAI,MAAA,OAAO,EAAI,KAAK3B,KAAL,CAAW4B,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADX,CAFU,EAKV,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,cAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALU,EAMC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACH,CAACzB,SAAD,GACCD,QAAQ,CAAC2B,GAAT,CAAaC,OAAO,IAAI;AAAA,YACdN,EADc,GACqCM,OADrC,CACdN,EADc;AAAA,YACXO,OADW,GACqCD,OADrC,CACXC,OADW;AAAA,YACHC,MADG,GACqCF,OADrC,CACHE,MADG;AAAA,YACIC,KADJ,GACqCH,OADrC,CACIG,KADJ;AAAA,YACUC,QADV,GACqCJ,OADrC,CACUI,QADV;AAAA,YACmBC,IADnB,GACqCL,OADrC,CACmBK,IADnB;AAAA,YACwBC,QADxB,GACqCN,OADrC,CACwBM,QADxB;AAEtB,aACE;AAAK,QAAA,GAAG,EAAEZ,EAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,EAAL,CADA,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKO,OAAL,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIC,MAAJ,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKC,KAAL,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAMC,QAAN,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAMC,IAAN,MANF,EAOE;AAAS,QAAA,OAAO,EAAGZ,CAAD,IAAO,KAAKhB,YAAL,CAAkBgB,CAAlB,EAAoBO,OAAO,CAACN,EAA5B,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPF,EAQE;AAAG,QAAA,IAAI,EAAE,oBAAkBM,OAAO,CAACN,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBARF,EASE;AAAG,QAAA,IAAI,EAAE,qBAAmBM,OAAO,CAACN,EAA3B,GAA8B,QAA9B,GAAuCG,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,CADF;AAeD,KAjBD,CADD,GAoBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBArBE,CADA,CAND,CADR;AAkCD;;AArFkC;;AAuFtC,eAAe7B,OAAf;AACAA,OAAO,CAACuC,SAAR,GAAoB;AAClBT,EAAAA,aAAa,EAAEtC,SAAS,CAACgD,IAAV,CAAeC;AADZ,CAApB","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport MeetingForm from './MeetingForm';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport Service from './Service';\nimport {Redirect} from 'react-router-dom';\nimport MeetingComment from './MeetingComment';\n\nconst service = new Service();\nclass  Profile extends React.Component{\nconstructor(props) {\n    super(props); \n    this.state = {\n      meetings: [],\n      isloading: true,\n      errors: null,\n    };\n    this.getPosts = this.getPosts.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.getPosts();\n    this.calendar();\n   }\n   calendar() {\n   \tfetch('http://127.0.0.1:8000/schedule/calendar/cal',{\n   \t\tmethod:'GET',\n    \theaders: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n   \t})\n   }\n   getPosts() {\n    fetch('http://127.0.0.1:8000/schedule/test/',{\n    \tmethod:'GET',\n    \theaders: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n    })\n   \t.then(response => response.json())\n   \t.then((response) => {\n   \t\tconsole.log(response.json);\n   \t\tthis.setState({\n   \t\t\tmeetings: response,\n   \t\t\tisloading: false,\n   \t\t});\n   \t})\n   \t.catch(error => this.setState({ error , isloading: false}));\n   }\n   handleDelete(e, pk){\n   \tservice.deleteMeeting({pk : pk}).then(()=>{\n   \t\tthis.setState({\n   \t\t\tmeetings : []\n   \t\t})\n   \t   this.getPosts();\n   \t});\n   }\n\n\n   render() {\n   \t   const { isloading,meetings } =this.state;\n   \t   const username = this.props.username;\n   \t\treturn(\n             <div>\n\t\t\t<h1>hello {this.props.username}  </h1>\n\t\t\t<ul>\n              <li onClick = {this.props.handle_logout}>logout</li>\n  \t\t\t</ul>\n\t\t\t<Link to='/MeetingForm'>add meeting</Link>\n              <React.Fragment>\n              <div>\n          {!isloading ? (\n            meetings.map(meeting => {\n              const { pk,purpose,detail,venue,datetime,host,invitees } = meeting;\n              return (\n                <div key={pk}>\n                <h2>{pk}</h2>\n                  <h2>{purpose}</h2>\n                  <p>{detail}</p>\n                  <h3>{venue}</h3>\n                  <h3> {datetime}</h3>\n                  <h3> {host} </h3>\n                  <button  onClick={(e)=>  this.handleDelete(e,meeting.pk) }> Delete</button>\n                  <a href={\"/MeetingDetail/\"+meeting.pk}>Update </a>\n                  <a href={\"/MeetingComment/\"+meeting.pk+\"?user=\"+username}> COMMENTS </a>\n                  \n                  <hr />\n                </div>\n              );\n            })\n          ) : (\n            <p>Loading...</p>\n          )}\n        </div>\n        </React.Fragment>\n\t\t\t </div>\n  )}\n  } \nexport default Profile;\nProfile.propTypes = {\n  handle_logout: PropTypes.func.isRequired\n};"]},"metadata":{},"sourceType":"module"}