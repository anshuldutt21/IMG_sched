{"ast":null,"code":"var _jsxFileName = \"/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingDetail.js\";\nimport React, { Component } from 'react';\nimport Service from './Service';\nconst service = new Service();\n\nclass MeetingDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getUsers = this.getUsers.bind(this);\n  }\n\n  componentDidMount() {\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      service.getMeeting(params.pk).then(meeting => {\n        this.refs.purpose.value = meeting.purpose;\n        this.refs.detail.value = meeting.detail;\n        this.refs.venue.value = meeting.venue;\n        this.refs.meeting_choice.value = meeting.meeting_choice;\n        this.refs.datetime.value = meeting.datetime;\n        this.refs.host.value = meeting.host;\n        this.refs.invitees.value = [1, 2, 3, 4];\n      });\n    }\n  }\n\n  handleUpdate(pk) {\n    service.updateMeeting({\n      \"pk\": pk,\n      \"purpose\": this.refs.purpose.value,\n      \"detail\": this.refs.detail.value,\n      \"venue\": this.refs.venue.value,\n      \"meeting_choice\": this.refs.meeting_choice.value,\n      \"datetime\": this.refs.datetime.value,\n      \"host\": this.refs.host.value,\n      \"invitees\": [1, 3]\n    }).then(result => {\n      alert(\"Meeting updated!\");\n    }).catch(() => {\n      alert('There was an error! Please re-check your form.');\n    });\n  }\n\n  handleSubmit(event) {\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      this.handleUpdate(params.pk);\n    }\n\n    event.preventDefault();\n  }\n\n  getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/', {\n      method: 'GET',\n      headers: {\n        'Authorization': \"JWT \".concat(window.localStorage.getItem('token'))\n      }\n    }).then(response => response.json()).then(response => {\n      this.setState({\n        users: response\n      });\n    }).catch(error => this.setState({\n      error\n    }));\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Purpose:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"purpose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Detail:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"meeting_choice:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"number\",\n      ref: \"meeting_choice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"venue:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"venue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"datetime:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"datetime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"host:\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.handle_change,\n      value: this.state.host,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"option\", {\n      value: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, user.username))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"invitees \"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      ref: \"invitees\",\n      value: \"[1,3]\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default MeetingDetail;","map":{"version":3,"sources":["/home/anshul/Documents/IMG_sched/frontend/src/components/MeetingDetail.js"],"names":["React","Component","Service","service","MeetingDetail","constructor","props","handleSubmit","bind","getUsers","componentDidMount","params","match","pk","getMeeting","then","meeting","refs","purpose","value","detail","venue","meeting_choice","datetime","host","invitees","handleUpdate","updateMeeting","result","alert","catch","event","preventDefault","fetch","method","headers","window","localStorage","getItem","response","json","setState","users","error","render","handle_change","state","map","user","id","username"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Service from './Service';\n\nconst service = new Service();\n\nclass MeetingDetail extends Component {\n    constructor(props) {\n        super(props);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.getUsers = this.getUsers.bind(this);\n\n      }\n\n      componentDidMount(){\n        const { match: { params } } = this.props;\n        if(params && params.pk)\n        {\n          service.getMeeting(params.pk).then((meeting)=>{\n            this.refs.purpose.value = meeting.purpose;\n            this.refs.detail.value = meeting.detail;\n            this.refs.venue.value = meeting.venue;\n            this.refs.meeting_choice.value = meeting.meeting_choice;\n            this.refs.datetime.value = meeting.datetime;\n            this.refs.host.value = meeting.host;\n            this.refs.invitees.value = [1,2,3,4];\n          })\n        }\n      }\n\n      handleUpdate(pk){\n        service.updateMeeting(\n          {\n            \"pk\": pk,\n            \"purpose\": this.refs.purpose.value,\n            \"detail\": this.refs.detail.value,\n            \"venue\": this.refs.venue.value,\n            \"meeting_choice\": this.refs.meeting_choice.value,\n            \"datetime\": this.refs.datetime.value,\n            \"host\": this.refs.host.value,\n            \"invitees\": [1,3],\n        }          \n        ).then((result)=>{\n          alert(\"Meeting updated!\");\n        }).catch(()=>{\n          alert('There was an error! Please re-check your form.');\n        });\n      }\n      handleSubmit(event) {\n        const { match: { params } } = this.props;\n\n        if(params && params.pk){\n          this.handleUpdate(params.pk);\n        }\n\n        event.preventDefault();\n      }\n      getUsers() {\n    fetch('http://127.0.0.1:8000/schedule/userlist/',{\n      method:'GET',\n      headers: {\n         'Authorization': `JWT ${window.localStorage.getItem('token')}`\n      }\n    })\n    .then(response => response.json())\n    .then((response) => {\n      this.setState({\n        users: response,\n      });\n    })\n    .catch(error => this.setState({ error }));\n   }\n\n      render() {\n        return (\n          <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label>\n              Purpose:</label>\n              <input className=\"form-control\" type=\"text\" ref='purpose' />\n\n            <label>\n              Detail:</label>\n              <input className=\"form-control\" type=\"text\" ref='detail'/>\n\n            <label>\n              meeting_choice:</label>\n              <input className=\"form-control\" type=\"number\" ref='meeting_choice' />\n\n            <label>\n              venue:</label>\n              <input className=\"form-control\" type=\"text\" ref='venue' />\n\n            <label>\n              datetime:</label>\n              <input className=\"form-control\" type=\"text\" ref='datetime' />\n\n            <label>\n              host:</label>\n             <select className=\"form-control\" onChange={this.handle_change} value = {this.state.host} >\n             {this.state.users.map(user => <option value={user.id}>{user.username}</option>)}\n             </select>\n\n             <label>\n             invitees </label>\n             <input className=\"form-control\" type=\"text\" ref='invitees' value='[1,3]' />\n            <input className=\"btn btn-primary\" type=\"submit\" value=\"Submit\" />\n            </div>\n          </form>\n        );\n      }  \n}\n\nexport default MeetingDetail;\n"]},"metadata":{},"sourceType":"module"}